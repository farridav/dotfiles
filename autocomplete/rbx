RBX_REPOS='/home/david/workspace/rockabox/'

cdr () {
    cd $RBX_REPOS/$1
    if [ -f .venv/bin/activate ]; then
    	. .venv/bin/activate
    fi
}

_cdr() {
    COMPREPLY=()
    local cur projects
    projects=$(ls $RBX_REPOS 2>/dev/null)
    _get_comp_words_by_ref cur
    COMPREPLY=( $(compgen -W "${projects}" -- ${cur}) )
}

complete -F _cdr cdr